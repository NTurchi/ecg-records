<details class="w-full dropdown dropdown-end">
  <summary
    class="shadow-lg cursor-pointer card bg-base-100 hover:shadow-xl transition-shadow"
    aria-labelledby="ecg-card-patient-full-name">
    <div class="card-body">
      <div class="flex flex-col justify-between md:flex-row md:items-center gap-4">
        <div>
          <h2 class="text-lg card-title" id="ecg-card-patient-full-name">
            {{ ecg().patientFullName }}
          </h2>
          <p class="text-sm text-gray-500">
            Recorded on {{ ecg().recordTime | date: 'mediumDate' }}
          </p>
        </div>

        <div class="flex flex-wrap gap-2">
          <app-label-badge [label]="label()"></app-label-badge>
        </div>
      </div>
    </div>
  </summary>
  <ul class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-56 mt-2">
    @for (label of labels(); track label) {
      <div class="form-control">
        <label class="cursor-pointer label">
          <app-label-badge [label]="label"></app-label-badge>
          <input
            type="radio"
            class="radio"
            [name]="'label-' + ecg().id"
            [checked]="ecg().labelId === label.id"
            (change)="updateLabel.emit(label)" />
        </label>
      </div>
    }
  </ul>
</details>
